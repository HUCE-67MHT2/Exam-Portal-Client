<app-header-student></app-header-student>
<app-header-student></app-header-student>

<!-- Search input for table filtering -->
<div class="search-container">
  <input type="text"
         placeholder="Nhập mã, tên, hoặc mô tả kỳ thi..."
         [(ngModel)]="searchTerm"
         (input)="filterExams()" />
  <button class="search-btn" (click)="openModal()">Tham gia kỳ thi với mã</button>
</div>

<!-- Modal for searching exam-session code -->
<div class="modal-overlay" *ngIf="isModalOpen">
  <div class="modal">
    <h2>Nhập mã kỳ thi</h2>
    <input type="text" [(ngModel)]="searchCode" placeholder="Nhập mã kỳ thi..." />
    <p>{{this.message}}</p>
    <div class="modal-buttons">
      <button (click)="searchByCode()">Tìm kiếm</button>
      <button (click)="closeModal()">Đóng</button>
    </div>
  </div>
</div>

<!-- Exam table -->
<div class="exam-table">
  <table>
    <thead>
    <tr>
      <th>Tên kỳ thi</th>
      <th>Ngày bắt đầu</th>
      <th>Ngày kết thúc</th>
      <th>Trạng thái</th>  <!-- Cột trạng thái -->
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let examSession of filteredExams" (click)="goToExamDetail(examSession)" style="cursor: pointer;">
    <td>
        <p class="exam-name">{{ examSession.name }} - {{ examSession.description }}</p>
        <p class="class-code">Mã kỳ thi: {{ examSession.code }}</p>
      </td>
      <td>{{ examSession.startDate }}</td>
      <td>{{ examSession.endDate }}</td>
      <td>{{ getStatus(examSession.startDate, examSession.endDate) }}</td>  <!-- Hiển thị trạng thái -->
    </tr>
    </tbody>
  </table>
</div>

