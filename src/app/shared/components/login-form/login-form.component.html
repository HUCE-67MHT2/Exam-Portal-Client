<div class="login-wrapper">
  <div class="login-container">
    <div class="login-header">
      <a routerLink="" class="logo">Online Exam Portal</a>
      <button (click)="navigateToLink()" class="user-type-button" data-hover="Thay đổi vai trò">
        <ng-content select="[present_role]"></ng-content>
      </button>
    </div>

    <div class="content-container">
      <div class="form-container">
        <div class="form-header">
          <h2><ng-content select="[login_heading]"></ng-content></h2>
          <p class="welcome-text">Chào mừng trở lại, vui lòng đăng nhập để tiếp tục</p>
        </div>

        <form (ngSubmit)="onSubmit()" [formGroup]="loginForm">
          <div class="input-group">
            <div class="input-wrapper">
              <span class="input-icon"><i class="fa fa-envelope"></i></span>
              <input formControlName="contact" placeholder="Email/ Số điện thoại" required type="text"/>
              <div *ngIf="loginForm.get('contact')?.touched && loginForm.get('contact')?.errors" class="error-container">
                <small *ngIf="loginForm.get('contact')?.errors?.['required']" class="error">Liên hệ không được để trống</small>
                <small *ngIf="loginForm.get('contact')?.errors?.['email']" class="error">Email không hợp lệ</small>
              </div>
            </div>

            <div class="input-wrapper">
              <span class="input-icon"><i class="fa fa-lock"></i></span>
              <input formControlName="password" placeholder="Mật khẩu" required type="password"/>
              <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors" class="error-container">
                <small *ngIf="loginForm.get('password')?.errors?.['required']" class="error">Mật khẩu không được để trống</small>
              </div>
            </div>
          </div>

          <a class="forgot-password" routerLink="/forgot-password">Quên mật khẩu?</a>

          <button [disabled]="loginForm.invalid" type="submit" class="login-button">
            <span class="button-text">Đăng nhập</span>
            <span class="button-icon"><i class="fa fa-arrow-right"></i></span>
          </button>

          <p class="register">Bạn chưa có tài khoản? <a [routerLink]="link" class="register-link">Đăng ký ngay</a></p>
          <p *ngIf="loginError" class="login-error">{{ loginError }}</p>
        </form>
      </div>

      <div class="image-container">
        <img alt="Login Illustration" ngSrc="/images/Login.png" width="584" height="584" class="login-image"/>
      </div>
    </div>

    <div class="custom-footer">
      <ng-content select="[custom_footer]"></ng-content>
    </div>
  </div>
</div>

<app-loading *ngIf="loading" text="Đang đăng nhập..."></app-loading>
